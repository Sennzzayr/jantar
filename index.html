<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Jantar Teol√≥gico Vintage</title>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="brilhos"></div>
  <div class="container">
    <h1>Jantar Teol√≥gico</h1>

    <h2>Informa√ß√µes do Jantar</h2>

    <label for="local">Onde ser√°:</label>
    <div style="display: flex; gap: 10px; align-items: center; margin-bottom: 15px;">
      <input type="text" id="local" placeholder="Ex: Sal√£o Paroquial" />
      <button type="button" onclick="usarLocalizacao()" title="Usar minha localiza√ß√£o">üìç</button>
    </div>

    <label for="data">Data:</label>
    <input type="date" id="data" />

    <label for="horario">Hor√°rio:</label>
    <input type="time" id="horario" />

    <label for="comida">Tipo de comida:</label>
    <input type="text" id="comida" placeholder="Ex: Jantar Italiano" />

    <label for="assunto">Assunto tratado:</label>
    <textarea id="assunto" placeholder="Ex: A Esperan√ßa Crist√£"></textarea>

    <div class="botoes">
      <button id="salvarInfoBtn">Salvar Informa√ß√µes</button>
    </div>

    <h2>Tabela dos participantes</h2>
    <div class="table-container">
      <table id="convidadosTable">
        <thead>
          <tr><th>Listas de presen√ßa</th></tr>
        </thead>
        <tbody contenteditable="true">
          <tr><td>Exemplo: Ana</td></tr>
          <tr><td>Exemplo: Jo√£o</td></tr>
        </tbody>
      </table>
    </div>
    <div class="botoes">
      <button id="addConvidadoBtn">Adicionar Convidado</button>
      <button id="salvarConvidadosBtn">Salvar Lista</button>
      <button id="resetarConvidadosBtn">Resetar Lista</button>
    </div>
    <p id="mensagem" class="mensagem"></p>
  </div>

  <script src="script.js"></script>

  <!-- GPS Script -->
  <script>
    function usarLocalizacao() {
      if (!navigator.geolocation) {
        alert("Geolocaliza√ß√£o n√£o suportada pelo navegador.");
        return;
      }

      navigator.geolocation.getCurrentPosition(async (pos) => {
        const lat = pos.coords.latitude;
        const lon = pos.coords.longitude;

        try {
          const resposta = await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lon}`);
          const dados = await resposta.json();
          const endereco = dados.display_name || `${lat}, ${lon}`;
          document.getElementById('local').value = endereco;
        } catch (err) {
          document.getElementById('local').value = `${lat}, ${lon}`;
        }
      }, () => {
        alert("N√£o foi poss√≠vel acessar sua localiza√ß√£o.");
      });
    }
  </script>
</body>
</html>
